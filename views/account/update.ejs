<div class="account-update">
    <h2>Update Account Information</h2>

    <% if (messages.notice) { %>
        <div class="notice"><%= messages.notice %></div>
    <% } %>

    <!-- Account Update Form -->
    <div class="form-section">
        <h3>Account Update</h3>
        <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
            <div class="errors">
                <ul>
                    <% errors.forEach(error => { %>
                        <li><%= error.msg %></li>
                    <% }) %>
                </ul>
            </div>
        <% } %>
        <form action="/account/update/<%= accountData.account_id %>" method="post">
            <input type="hidden" name="account_id" value="<%= accountData.account_id %>">

            <div class="form-group">
                <label for="account_firstname">First Name:</label>
                <input type="text" id="account_firstname" name="account_firstname" required value="<%= typeof account_firstname != 'undefined' ? account_firstname : accountData.account_firstname %>">
            </div>

            <div class="form-group">
                <label for="account_lastname">Last Name:</label>
                <input type="text" id="account_lastname" name="account_lastname" required value="<%= typeof account_lastname != 'undefined' ? account_lastname : accountData.account_lastname %>">
            </div>

            <div class="form-group">
                <label for="account_email">Email:</label>
                <input type="email" id="account_email" name="account_email" required value="<%= typeof account_email != 'undefined' ? account_email : accountData.account_email %>">
            </div>

            <button type="submit">Update Account</button>
        </form>
    </div>

    <!-- Change Password Form -->
    <div class="form-section">
        <h3>Change Password</h3>
        <% if (typeof passwordErrors !== 'undefined' && passwordErrors.length > 0) { %>
            <div class="errors">
                <ul>
                    <% passwordErrors.forEach(error => { %>
                        <li><%= error.msg %></li>
                    <% }) %>
                </ul>
            </div>
        <% } %>
        <form action="/account/update-password/<%= accountData.account_id %>" method="post">
            <input type="hidden" name="account_id" value="<%= accountData.account_id %>">

            <div class="form-group">
                <label for="account_password">New Password:</label>
                <input type="password" id="account_password" name="account_password" required>
                <small>Password must be at least 8 characters long and contain at least one lowercase letter, one uppercase letter, and one number. By entering a password, it will change your current password.</small>
            </div>

            <button type="submit">Change Password</button>
        </form>
    </div>
</div>
